# Edge assembly crossover (EAX)

С опорой на работу New EAX Crossover for Large TSP Instances.


**EAX** — это дофига модное скрещивание, которое позволяет перформить не хуже, чем LKH.

1. Мержим двух родителей *A* и *B* в общий граф.
2. Находим *AB-циклы*, которые состоят из чередующихся ребер A и B.
    1. В сумме это весь граф, но повторными ребрами можно пренебречь (ineffective)
    2. Те, в которых нет косяков, это (effective)
3. Конструируем E-set выбрав несколько AB-циклов
    1. Конкретные способы могут быть разными в зависимости от вариации
    2. **EAX-Rand**: выбираем случайно с вероятностью 0.5
    3. **EAX-1AB**: только 1 цикл. Решение будет похоже на *A*, с небольшими изменениями
4. Применим *E-set* к *А*. А именно удалим из него *A-ребра* из *E-set*. И вставим B-ребра.
    1. Получили промежуточное решени. С поломанными турами.
5. Объединяем получившиеся сабтуры в туры.
    1. Вырываем 2 ребра и вставляем 2 ребра
    2. Таким образом мы чиним сломанный тур

#### Стратегии использования

Используем EAX-1AB до стогнации, затем EAX-Rand. Считается быстрее и сохраняет Divercity.

Придумываем стратегию, чтобы
1. Сильно менять тур.
2. Было мало сабтуров на 5 шаге.

**EAX-Block**
1. Находим большой цикл (будем называть его центральным).
 Ищется среди N самых больших, где N - число детей.
2. Применяем его к A. Получаем большой цикл U1 и маленькие Ui...
3. Выбираем те AB-циклы, которые соединены с Ui и которые меньше центрального.
4. Получили итоговой *E-set*. И применяем его.

Утверждается: 
1. Ui состоят из B-вершин (так как маленькие цикла соединены со всеми их точками)
2. U1 состоит из A-вершин (так как их никто не трогает)
3. Остальные C-вершины
